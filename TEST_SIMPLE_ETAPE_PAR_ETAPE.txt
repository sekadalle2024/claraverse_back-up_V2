â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ§ª TEST SIMPLE - Ã‰tape par Ã‰tape
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Suivez ces Ã©tapes EXACTEMENT dans l'ordre.
Notez le rÃ©sultat de chaque Ã©tape.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 1 : Ouvrir la Console
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Appuyez sur F12
2. Cliquez sur l'onglet "Console"
3. Effacez la console (clic droit â†’ Clear console)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 2 : Charger le Diagnostic
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Copiez-collez ce code dans la console et appuyez sur EntrÃ©e:

fetch('/DIAGNOSTIC_IMMEDIAT_CONSOLE.js').then(r=>r.text()).then(eval);

RÃ©sultat attendu : Vous devez voir un rapport complet

NOTEZ ICI CE QUE VOUS VOYEZ :
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 3 : VÃ©rifier conso.js
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans la console, tapez:

window.claraverseProcessor

Appuyez sur EntrÃ©e.

RÃ‰SULTAT ATTENDU : Vous devez voir un objet avec des fonctions

SI VOUS VOYEZ "undefined" :
â†’ âŒ conso.js n'est pas chargÃ©
â†’ Solution : Rechargez avec Ctrl+F5

NOTEZ ICI CE QUE VOUS VOYEZ :
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 4 : Compter les Tables CIA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans la console, tapez:

Array.from(document.querySelectorAll('table')).filter(t => {
  const headers = Array.from(t.querySelectorAll('th, td')).map(h => h.textContent);
  return headers.some(h => /reponse.*user/i.test(h));
}).length

Appuyez sur EntrÃ©e.

RÃ‰SULTAT ATTENDU : Un nombre > 0 (par exemple: 16)

SI VOUS VOYEZ 0 :
â†’ âŒ Aucune table CIA sur cette page
â†’ Solution : Naviguez vers une page avec des tables d'examen CIA

NOTEZ ICI LE NOMBRE :
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 5 : VÃ©rifier les IDs des Tables
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans la console, tapez:

Array.from(document.querySelectorAll('table')).forEach((t, i) => {
  const headers = Array.from(t.querySelectorAll('th, td')).map(h => h.textContent);
  if (headers.some(h => /reponse.*user/i.test(h))) {
    console.log(`Table CIA ${i}: ID =`, t.dataset.tableId || 'âŒ SANS ID');
  }
});

Appuyez sur EntrÃ©e.

RÃ‰SULTAT ATTENDU : Chaque table doit avoir un ID

SI VOUS VOYEZ "SANS ID" :
â†’ âš ï¸ Les tables n'ont pas d'ID
â†’ Solution : ExÃ©cutez claraverseProcessor.processAllTables()

NOTEZ ICI CE QUE VOUS VOYEZ :
_________________________________________________________________
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 6 : Forcer la GÃ©nÃ©ration des IDs (si nÃ©cessaire)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SI des tables n'ont pas d'ID, tapez:

claraverseProcessor.processAllTables()

Appuyez sur EntrÃ©e.

Attendez 2 secondes.

Puis rÃ©pÃ©tez l'Ã‰TAPE 5 pour vÃ©rifier que les IDs sont crÃ©Ã©s.

RÃ‰SULTAT :
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 7 : Cocher une Checkbox
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Trouvez une table CIA sur la page
2. Cochez UNE checkbox dans la colonne "Reponse_user"
3. Attendez 2 secondes

FAIT ? OUI / NON : _____________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 8 : Forcer la Sauvegarde
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans la console, tapez:

claraverseProcessor.saveNow()

Appuyez sur EntrÃ©e.

RÃ‰SULTAT ATTENDU : Vous devez voir des logs de sauvegarde

NOTEZ ICI CE QUE VOUS VOYEZ :
_________________________________________________________________
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 9 : VÃ©rifier localStorage
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans la console, tapez:

const data = JSON.parse(localStorage.getItem('claraverse_tables_data') || '{}');
const cia = Object.values(data).filter(t => t.isCIATable);
console.log('Tables CIA sauvegardÃ©es:', cia.length);
cia.forEach(t => {
  const checked = (t.cells || []).filter(c => c.isCheckboxCell && c.isChecked).length;
  console.log('  Checkboxes cochÃ©es:', checked);
});

Appuyez sur EntrÃ©e.

RÃ‰SULTAT ATTENDU : Au moins 1 table CIA avec 1 checkbox cochÃ©e

NOTEZ ICI CE QUE VOUS VOYEZ :
_________________________________________________________________
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 10 : DÃ©cocher la Checkbox
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. DÃ©cochez la checkbox que vous aviez cochÃ©e Ã  l'Ã©tape 7
2. VÃ©rifiez visuellement qu'elle est dÃ©cochÃ©e

FAIT ? OUI / NON : _____________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 11 : Forcer la Restauration
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans la console, tapez:

claraverseProcessor.restoreAllTablesData()

Appuyez sur EntrÃ©e.

Attendez 2 secondes.

RÃ‰SULTAT ATTENDU : La checkbox doit se recocher automatiquement

EST-CE QUE LA CHECKBOX S'EST RECOCHÃ‰E ? OUI / NON : _____________

SI NON, NOTEZ CE QUE VOUS VOYEZ DANS LA CONSOLE :
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Ã‰TAPE 12 : Test de Changement de Chat
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Cochez une checkbox
2. ExÃ©cutez: claraverseProcessor.saveNow()
3. Changez de chat (cliquez sur un autre chat)
4. Attendez 10 secondes
5. Revenez au chat initial
6. Attendez 10 secondes

EST-CE QUE LA CHECKBOX EST TOUJOURS COCHÃ‰E ? OUI / NON : _____________

SI NON, NOTEZ CE QUI SE PASSE :
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  RÃ‰SUMÃ‰ DES RÃ‰SULTATS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ã‰tape 3 (conso.js) : OK / ERREUR
Ã‰tape 4 (Tables CIA) : _____ tables trouvÃ©es
Ã‰tape 5 (IDs) : OK / SANS ID
Ã‰tape 9 (localStorage) : OK / VIDE
Ã‰tape 11 (Restauration) : OK / Ã‰CHEC
Ã‰tape 12 (Changement chat) : OK / Ã‰CHEC

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Date : 26 novembre 2025
Fichier : TEST_SIMPLE_ETAPE_PAR_ETAPE.txt
